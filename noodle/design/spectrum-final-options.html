<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Profile — Final Options</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
  body { font-family: 'Inter', sans-serif; }

  /* Constellation styles */
  .star { animation: twinkle 3s ease-in-out infinite; }
  .star:nth-child(2) { animation-delay: 1s; }
  .star:nth-child(3) { animation-delay: 2s; }
  @keyframes twinkle { 0%, 100% { opacity: 0.8; } 50% { opacity: 1; } }

  /* Breath pattern styles */
  .breath { animation: breathe 4s ease-in-out infinite; }
  @keyframes breathe {
    0%, 100% { transform: scale(1) rotate(0deg); border-radius: 60% 40% 55% 45% / 55% 45% 55% 45%; }
    25% { transform: scale(1.05) rotate(2deg); border-radius: 45% 55% 45% 55% / 60% 40% 60% 40%; }
    50% { transform: scale(1.1) rotate(0deg); border-radius: 55% 45% 60% 40% / 45% 55% 40% 60%; }
    75% { transform: scale(1.05) rotate(-2deg); border-radius: 40% 60% 45% 55% / 55% 45% 55% 45%; }
  }

  /* Weather particle styles */
  .particle { animation: float 8s ease-in-out infinite; }
  .particle:nth-child(odd) { animation-duration: 6s; animation-delay: -2s; }
  .particle:nth-child(3n) { animation-duration: 10s; animation-delay: -4s; }
  @keyframes float {
    0%, 100% { transform: translateY(0) translateX(0); }
    25% { transform: translateY(-5px) translateX(3px); }
    50% { transform: translateY(-2px) translateX(-2px); }
    75% { transform: translateY(-7px) translateX(1px); }
  }
</style>
</head>
<body class="min-h-screen p-8" style="background: #08080c;">

  <div class="max-w-[1400px] mx-auto">
    <div class="mb-6">
      <div class="text-xs text-gray-500 font-mono">noodle/design/spectrum-final-options</div>
      <div class="text-xl text-gray-200 mt-1 font-semibold">Quick Profile — Design Options</div>
      <div class="text-sm text-gray-500 mt-1">Top 3 refined palettes + 3 blue sky concepts</div>
    </div>

    <div class="flex gap-3 mb-8">
      <button onclick="setMode('dark')" id="btn-dark" class="px-4 py-2 rounded-xl text-sm font-medium bg-gray-800 text-white border-2 border-indigo-500">Dark</button>
      <button onclick="setMode('light')" id="btn-light" class="px-4 py-2 rounded-xl text-sm font-medium bg-white text-gray-800 border-2 border-gray-300">Light</button>
    </div>

    <!-- Section: Refined Palettes -->
    <div class="mb-10">
      <div class="text-sm text-indigo-400 font-semibold uppercase tracking-wider mb-4">Refined Palettes — Top 3</div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-5" id="palettes-grid"></div>
    </div>

    <!-- Section: Blue Sky -->
    <div>
      <div class="text-sm text-violet-400 font-semibold uppercase tracking-wider mb-4">Blue Sky — Totally Different</div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-5" id="bluesky-grid"></div>
    </div>
  </div>

<script>
let isDark = true;

const palettes = {
  'B4 — O goes gold': {
    tag: 'recommended',
    note: 'Minimal change, maximum impact. Only O changes—teal→gold replaces teal→purple. Five distinct color families.',
    colors: {
      E: { left: '#f43f5e', right: '#f59e0b', leftLabel: 'Reserved', rightLabel: 'Outgoing' },
      A: { left: '#3b82f6', right: '#ec4899', leftLabel: 'Direct', rightLabel: 'Empathetic' },
      C: { left: '#8b5cf6', right: '#10b981', leftLabel: 'Flexible', rightLabel: 'Organized' },
      N: { left: '#06b6d4', right: '#f97316', leftLabel: 'Steady', rightLabel: 'Sensitive' },
      O: { left: '#14b8a6', right: '#eab308', leftLabel: 'Practical', rightLabel: 'Curious' },
    }
  },
  'B6 — Full shuffle': {
    tag: '',
    note: 'Most aggressive separation. No two bars share an endpoint color. Maximum differentiation when 3 bars appear.',
    colors: {
      E: { left: '#f43f5e', right: '#f59e0b', leftLabel: 'Reserved', rightLabel: 'Outgoing' },
      A: { left: '#06b6d4', right: '#ec4899', leftLabel: 'Direct', rightLabel: 'Empathetic' },
      C: { left: '#10b981', right: '#8b5cf6', leftLabel: 'Flexible', rightLabel: 'Organized' },
      N: { left: '#3b82f6', right: '#f97316', leftLabel: 'Steady', rightLabel: 'Sensitive' },
      O: { left: '#14b8a6', right: '#eab308', leftLabel: 'Practical', rightLabel: 'Curious' },
    }
  },
  'B3 — Cool A, warm N': {
    tag: '',
    note: 'Better warm/cool balance. Cyan→pink for A, blue→orange for N. Classic complementary pairings.',
    colors: {
      E: { left: '#f43f5e', right: '#f59e0b', leftLabel: 'Reserved', rightLabel: 'Outgoing' },
      A: { left: '#06b6d4', right: '#ec4899', leftLabel: 'Direct', rightLabel: 'Empathetic' },
      C: { left: '#8b5cf6', right: '#10b981', leftLabel: 'Flexible', rightLabel: 'Organized' },
      N: { left: '#3b82f6', right: '#f97316', leftLabel: 'Steady', rightLabel: 'Sensitive' },
      O: { left: '#14b8a6', right: '#a855f7', leftLabel: 'Practical', rightLabel: 'Curious' },
    }
  },
};

const scores = { E: 78, A: 35, C: 72, N: 28, O: 85 };

function lerpColor(c1, c2, t) {
  const p = (s, i) => parseInt(s.slice(i, i+2), 16);
  return `rgb(${Math.round(p(c1,1)+(p(c2,1)-p(c1,1))*t)}, ${Math.round(p(c1,3)+(p(c2,3)-p(c1,3))*t)}, ${Math.round(p(c1,5)+(p(c2,5)-p(c1,5))*t)})`;
}

function renderPalettes() {
  const grid = document.getElementById('palettes-grid');
  grid.innerHTML = '';

  Object.entries(palettes).forEach(([name, opt]) => {
    const card = document.createElement('div');
    card.className = 'rounded-2xl p-5';
    card.style.background = isDark ? 'rgba(12, 12, 22, 0.85)' : 'rgba(248, 248, 252, 1)';
    card.style.border = isDark ? '1px solid rgba(99, 102, 241, 0.2)' : '1px solid rgba(99, 102, 241, 0.12)';

    let tagHtml = opt.tag === 'recommended'
      ? `<span class="ml-2 px-2 py-0.5 rounded-full text-[10px] font-medium ${isDark ? 'bg-emerald-900/50 text-emerald-300' : 'bg-emerald-100 text-emerald-700'}">RECOMMENDED</span>`
      : '';

    // Show top 3 traits by distance from 50
    const ranked = Object.entries(opt.colors)
      .map(([t, c]) => ({ trait: t, score: scores[t], distance: Math.abs(scores[t] - 50), ...c }))
      .sort((a, b) => b.distance - a.distance)
      .slice(0, 3);

    let barsHtml = '';
    ranked.forEach(({ score, left, right, leftLabel, rightLabel }) => {
      const dotColor = lerpColor(left, right, score / 100);
      const gradientOpacity = isDark ? 0.5 : 0.75;
      const labelStyle = isDark ? 'opacity: 1; filter: brightness(1.3)' : 'opacity: 1; filter: saturate(1.3) brightness(0.75)';
      const dotStyle = isDark
        ? `background: ${dotColor}; box-shadow: 0 0 10px ${dotColor}, 0 0 20px ${dotColor}80;`
        : `background: white; border: 2px solid ${dotColor}; box-shadow: 0 1px 4px rgba(0,0,0,0.15);`;

      barsHtml += `
        <div class="px-1">
          <div class="flex justify-between text-[10px] mb-1">
            <span style="color: ${left}; ${labelStyle}">${leftLabel}</span>
            <span style="color: ${right}; ${labelStyle}">${rightLabel}</span>
          </div>
          <div class="h-3 rounded-full relative" style="background: linear-gradient(to right, ${left}, ${right}); opacity: ${gradientOpacity};">
            <div class="absolute rounded-full" style="width: 18px; height: 18px; top: 50%; transform: translateY(-50%); left: ${Math.max(8, Math.min(92, score))}%; margin-left: -9px; ${dotStyle}"></div>
          </div>
        </div>`;
    });

    card.innerHTML = `
      <div class="flex items-center mb-1">
        <div class="text-sm font-semibold ${isDark ? 'text-white' : 'text-gray-900'}">${name}</div>
        ${tagHtml}
      </div>
      <div class="text-xs ${isDark ? 'text-gray-400' : 'text-gray-500'} mb-4">${opt.note}</div>
      <div class="space-y-3">${barsHtml}</div>
    `;
    grid.appendChild(card);
  });
}

function renderBlueSky() {
  const grid = document.getElementById('bluesky-grid');
  const cardBg = isDark ? 'rgba(12, 12, 22, 0.85)' : 'rgba(248, 248, 252, 1)';
  const cardBorder = isDark ? '1px solid rgba(139, 92, 246, 0.2)' : '1px solid rgba(139, 92, 246, 0.12)';
  const textPrimary = isDark ? 'text-white' : 'text-gray-900';
  const textSecondary = isDark ? 'text-gray-400' : 'text-gray-500';

  grid.innerHTML = `
    <!-- Constellation Self -->
    <div class="rounded-2xl p-5" style="background: ${cardBg}; border: ${cardBorder}">
      <div class="text-sm font-semibold ${textPrimary} mb-1">Constellation Self</div>
      <div class="text-xs ${textSecondary} mb-4">"My personality is a pattern in the universe." Stars in space, connected by faint lines. Position = trait relationships.</div>
      <div class="relative h-40 rounded-xl overflow-hidden" style="background: ${isDark ? 'radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a12 100%)' : 'radial-gradient(ellipse at center, #e8e8f0 0%, #d0d0e0 100%)'}">
        <!-- Faint background stars -->
        ${Array(12).fill().map(() => `<div class="absolute w-1 h-1 rounded-full ${isDark ? 'bg-white/20' : 'bg-gray-400/30'}" style="left: ${Math.random()*90+5}%; top: ${Math.random()*90+5}%"></div>`).join('')}
        <!-- Main stars -->
        <div class="star absolute w-4 h-4 rounded-full" style="left: 25%; top: 30%; background: radial-gradient(circle, #f59e0b 0%, #f59e0b00 70%); box-shadow: 0 0 15px #f59e0b80;"></div>
        <div class="star absolute w-5 h-5 rounded-full" style="left: 65%; top: 25%; background: radial-gradient(circle, #ec4899 0%, #ec489900 70%); box-shadow: 0 0 20px #ec489980;"></div>
        <div class="star absolute w-3 h-3 rounded-full" style="left: 55%; top: 65%; background: radial-gradient(circle, #8b5cf6 0%, #8b5cf600 70%); box-shadow: 0 0 12px #8b5cf680;"></div>
        <!-- Connecting lines -->
        <svg class="absolute inset-0 w-full h-full" style="opacity: 0.3">
          <line x1="27%" y1="35%" x2="67%" y2="30%" stroke="${isDark ? '#ffffff' : '#6366f1'}" stroke-width="1"/>
          <line x1="67%" y1="30%" x2="57%" y2="68%" stroke="${isDark ? '#ffffff' : '#6366f1'}" stroke-width="1"/>
          <line x1="57%" y1="68%" x2="27%" y2="35%" stroke="${isDark ? '#ffffff' : '#6366f1'}" stroke-width="1"/>
        </svg>
        <div class="absolute bottom-2 left-3 text-[10px] ${isDark ? 'text-gray-500' : 'text-gray-400'}">outgoing · empathetic · curious</div>
      </div>
    </div>

    <!-- Breath Pattern -->
    <div class="rounded-2xl p-5" style="background: ${cardBg}; border: ${cardBorder}">
      <div class="text-sm font-semibold ${textPrimary} mb-1">Breath Pattern</div>
      <div class="text-xs ${textSecondary} mb-4">"My personality has a pulse." A living blob that breathes with your signature rhythm, amplitude, and shape.</div>
      <div class="relative h-40 rounded-xl overflow-hidden flex items-center justify-center" style="background: ${isDark ? 'radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a12 100%)' : 'radial-gradient(ellipse at center, #f0f0f8 0%, #e0e0f0 100%)'}">
        <div class="breath w-24 h-20" style="background: ${isDark ? 'linear-gradient(135deg, #f43f5e 0%, #8b5cf6 50%, #06b6d4 100%)' : 'linear-gradient(135deg, #f43f5e 0%, #8b5cf6 50%, #06b6d4 100%)'}; opacity: ${isDark ? 0.7 : 0.5}; filter: blur(1px);"></div>
        <div class="absolute bottom-2 left-3 text-[10px] ${isDark ? 'text-gray-500' : 'text-gray-400'}">warm · steady · open</div>
      </div>
    </div>

    <!-- Weather System -->
    <div class="rounded-2xl p-5" style="background: ${cardBg}; border: ${cardBorder}">
      <div class="text-sm font-semibold ${textPrimary} mb-1">Weather System</div>
      <div class="text-xs ${textSecondary} mb-4">"My personality is a moment in time." Light quality, cloud coverage, and atmospheric movement encode traits.</div>
      <div class="relative h-40 rounded-xl overflow-hidden" style="background: ${isDark ? 'linear-gradient(180deg, #1e3a5f 0%, #f97316 50%, #fbbf24 100%)' : 'linear-gradient(180deg, #60a5fa 0%, #fbbf24 60%, #fef3c7 100%)'}">
        <!-- Clouds/atmosphere -->
        <div class="absolute inset-0" style="background: ${isDark ? 'radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.1) 0%, transparent 50%)' : 'radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.6) 0%, transparent 50%)'}"></div>
        <div class="absolute inset-0" style="background: ${isDark ? 'radial-gradient(ellipse at 70% 30%, rgba(255,255,255,0.08) 0%, transparent 40%)' : 'radial-gradient(ellipse at 70% 30%, rgba(255,255,255,0.4) 0%, transparent 40%)'}"></div>
        <!-- Particles -->
        ${Array(8).fill().map((_, i) => `<div class="particle absolute w-1 h-1 rounded-full ${isDark ? 'bg-white/30' : 'bg-white/60'}" style="left: ${10 + i*12}%; top: ${20 + (i%3)*20}%"></div>`).join('')}
        <div class="absolute bottom-2 left-3 text-[10px] ${isDark ? 'text-white/50' : 'text-gray-600'}">golden hour · scattered thoughts · gentle breeze</div>
      </div>
    </div>
  `;
}

function render() {
  renderPalettes();
  renderBlueSky();
  document.body.style.background = isDark ? '#08080c' : '#f3f4f6';
}

function setMode(mode) {
  isDark = mode === 'dark';
  document.getElementById('btn-dark').className = `px-4 py-2 rounded-xl text-sm font-medium bg-gray-800 text-white border-2 ${isDark ? 'border-indigo-500' : 'border-gray-600'}`;
  document.getElementById('btn-light').className = `px-4 py-2 rounded-xl text-sm font-medium bg-white text-gray-800 border-2 ${!isDark ? 'border-indigo-500' : 'border-gray-300'}`;
  render();
}

render();
</script>
</body>
</html>
